# Loading Reminders

EventKit í”„ë ˆì„ì›Œí¬ëŠ” ì‚¬ìš©ìì˜ ìº˜ë¦°ë” ì´ë²¤íŠ¸ì™€ ë¯¸ë¦¬ ì•Œë¦¼ì˜ ì ‘ê·¼ ê¶Œí•œì„ ì œê³µí•©ë‹ˆë‹¤. EventKitì„ ì‚¬ìš©í•˜ì—¬ ë¯¸ë¦¬ ì•Œë¦¼ ì•±ê³¼ Today ì•± ê°„ì— ë°ì´í„°ë¥¼ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## 1. Request Access to User Data

ìº˜ë¦°ë” ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì‚¬ìš©ìì˜ ìº˜ë¦°ë”ì™€ ë¯¸ë¦¬ ì•Œë¦¼ ë°ì´í„°ë¥¼ ì €ì¥í•©ë‹ˆë‹¤. ì•±ì´ ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ê·¼í•˜ê¸° ì „ì— ë°˜ë“œì‹œ ì‚¬ìš©ìì—ê²Œ í—ˆê°€ë¥¼ ë°›ì•„ì•¼ í•©ë‹ˆë‹¤.  
  
ì´ ì„¹ì…˜ì—ì„œëŠ” ë°ì´í„°ë² ì´ìŠ¤ì˜ í•­ëª©ì„ ì¿¼ë¦¬í•˜ê³  ìˆ˜ì •í•˜ëŠ” ë° ì‚¬ìš©í•˜ëŠ” EKEventStore ì˜¤ë¸Œì íŠ¸ë¥¼ ì¸ìŠ¤í„´ìŠ¤í™”í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ë²¤íŠ¸ ì €ì¥ì†Œë¥¼ í†µí•´ ì‚¬ìš©ìì˜ ë¯¸ë¦¬ ì•Œë¦¼ì— ëŒ€í•œ ì ‘ê·¼ì„ ìš”ì²­í•©ë‹ˆë‹¤.

## 2. Load Reminders

ì´ ì„¹ì…˜ì—ì„œëŠ” ì´ë²¤íŠ¸ ì €ì¥ì†Œì—ì„œ ë¯¸ë¦¬ ì•Œë¦¼ì„ ë¡œë“œí•˜ëŠ” ë©”ì„œë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤. ì €ì¥ì†ŒëŠ” EKReminder ì˜¤ë¸Œì íŠ¸ì˜ ì˜µì…”ë„ ë°°ì—´ì„ ë°˜í™˜í•˜ë¯€ë¡œ, ReminderListDataSourceì˜ ìƒˆ í”„ë¡œí¼í‹°ì— ì €ì¥í•˜ê¸° ì „ì— Reminder ì˜¤ë¸Œì íŠ¸ë¡œ ë³€í™˜í•´ì•¼í•©ë‹ˆë‹¤.

### ğŸ“Œ compactMapê³¼ mapì˜ ì°¨ì´

EKEventStoreì—ì„œ fetchRemindersë¡œ ê°€ì ¸ì˜¨ EKRemindersë¥¼ Today ì•±ì˜ ë¯¸ë¦¬ ì•Œë¦¼ ëª¨ë¸ì¸ Reminderë¡œ ë³€í™˜í•  ë•Œ compactMapì„ ì‚¬ìš©í–ˆê³  map ê³¼ì˜ ì°¨ì´ì ì´ ì„¤ëª…ë¼ìˆë‹¤.

> Step 8  
>  
> Like map(_:), the compactMap(_:) method performs the given transformation with each element of the collection, but it also unwraps optionals, discarding any that are nil.

compactMapì€ mapê³¼ ë¹„ìŠ·í•˜ì§€ë§Œ, ì˜µì…”ë„ ì–¸ë©í•‘í•˜ì—¬ ë°˜í™˜í•œë‹¤ëŠ” ì°¨ì´ê°€ ìˆë‹¤. ì´ë•Œ nilì´ ë˜ëŠ” ê²½ìš°ëŠ” íê¸°ë˜ë¯€ë¡œ compactMapì„ ì‚¬ìš©í•˜ë©´ nilì´ ì•„ë‹Œ collectionì„ ë°˜í™˜í•œë‹¤.

## 3. Display Reminders

ì´ ì„¹ì…˜ì—ì„œëŠ” ì €ì¥ì†Œì—ì„œ ë¯¸ë¦¬ ì•Œë¦¼ì„ ê²€ìƒ‰í•˜ê³  í™”ë©´ì— í‘œì‹œí•©ë‹ˆë‹¤.

## 4. Responding to Notifications

Today ì•±ì€ ì‚¬ìš©ìê°€ ì•±ì„ ì‹¤í–‰í•  ë•Œ ì´ë²¤íŠ¸ ì €ì¥ì†Œì—ì„œ ë¯¸ë¦¬ ì•Œë¦¼ì„ ë¡œë“œí•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ Today ì•±ì´ ë™ì‘í•˜ëŠ” ë™ì•ˆ ë‹¤ë¥¸ ì•±ê³¼ í”„ë¡œì„¸ìŠ¤ê°€ ì €ì¥ì†Œë¥¼ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
  
ì•±ì˜ ìµœì‹  ìƒíƒœë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•´ notificationì— data sourceë¥¼ ë“±ë¡í•©ë‹ˆë‹¤. data sourceê°€ change notificationì„ ë°›ì„ ë•Œë§ˆë‹¤ ì €ì¥ì†Œì—ì„œ ë¯¸ë¦¬ ì•Œë¦¼ ë°ì´í„°ë¥¼ ë‹¤ì‹œ ë¡œë“œí•©ë‹ˆë‹¤.

### ğŸ“Œ ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ì˜µì €ë²„ ì œê±°

ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ì˜µì €ë²„ëŠ” ì œê±°í•´ ì¤˜ì•¼ í•œë‹¤. ì¸ìŠ¤í„´ìŠ¤ê°€ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œë  ë•Œ ì‹œìŠ¤í…œì´ deinit()ì„ ìë™ìœ¼ë¡œ í˜¸ì¶œí•´ ì£¼ë¯€ë¡œ ì˜µì €ë²„ë¡œ ë“±ë¡í•œ í´ë˜ìŠ¤ì˜ deinit()ì—ì„œ ì˜µì €ë²„ë¥¼ ì œê±°í•´ ì£¼ì.

> Step 4  
>  
> Itâ€™s your responsibility to remove observers when theyâ€™re no longer used. You can remove your class as an observer in its deinit method.


## 5. Check Your Understanding

### Q1. ì‚¬ìš©ìì˜ ìº˜ë¦°ë”ì™€ ë¯¸ë¦¬ ì•Œë¦¼ ë°ì´í„°ì— ëŒ€í•œ ì ‘ê·¼ì„ ì œê³µí•˜ëŠ” í´ë˜ìŠ¤ëŠ” ë¬´ì—‡ì¸ê°€ìš”?

A. `EKEventStore`

### Q2. ì•±ì´ ë¯¸ë¦¬ ì•Œë¦¼ì— ëŒ€í•œ ì ‘ê·¼ê¶Œí•œì„ ë¬¼ì–´ë³¼ ë•Œ ì‚¬ìš©ìê°€ "Dont't Allow"ë¥¼ íƒ­í•˜ë©´ ë¯¸ë¦¬ ì•Œë¦¼ì— ëŒ€í•œ ì´ë²¤íŠ¸ ì €ì¥ì†Œì˜ authorization statusëŠ” ë¬´ì—‡ì¸ê°€ìš”?

A. `denied`

### Q3. ì•„ë˜ ì½”ë“œ ìƒ˜í”Œì—ì„œ `fetched`ì˜ íƒ€ì…ì€ ë¬´ì—‡ì¸ê°€ìš”?

~~~swift
let eventStore = EKEventStore()

func loadReminders() {
   let predicate = eventStore.predicateForReminders(in: nil)
   eventStore.fetchReminders(matching: predicate) { (fetched) in
      
   }
}
~~~

A. `[EKReminder]?`
